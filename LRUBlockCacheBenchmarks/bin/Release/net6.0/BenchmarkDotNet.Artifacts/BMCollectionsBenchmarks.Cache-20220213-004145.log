// Validating benchmarks:
// ***** BenchmarkRunner: Start   *****
// ***** Found 12 benchmark(s) in total *****
// ***** Building 1 exe(s) in Parallel: Start   *****
// start dotnet restore  /p:UseSharedCompilation=false /p:BuildInParallel=false /m:1 /p:Deterministic=true /p:Optimize=true in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739
// command took 1.07s and exited with 0
// start dotnet build -c Release  --no-restore /p:UseSharedCompilation=false /p:BuildInParallel=false /m:1 /p:Deterministic=true /p:Optimize=true in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739
// command took 11.86s and exited with 1
// start dotnet build -c Release  --no-restore --no-dependencies /p:UseSharedCompilation=false /p:BuildInParallel=false /m:1 /p:Deterministic=true /p:Optimize=true in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739
// command took 1.81s and exited with 0
// ***** Done, took 00:00:14 (14.84 sec)   *****
// Found 12 benchmarks:
//   Cache.Add: DefaultJob [N=1]
//   Cache.Remove: DefaultJob [N=1]
//   Cache.TryGet: DefaultJob [N=1]
//   Cache.Add: DefaultJob [N=1000]
//   Cache.Remove: DefaultJob [N=1000]
//   Cache.TryGet: DefaultJob [N=1000]
//   Cache.Add: DefaultJob [N=100000]
//   Cache.Remove: DefaultJob [N=100000]
//   Cache.TryGet: DefaultJob [N=100000]
//   Cache.Add: DefaultJob [N=1000000]
//   Cache.Remove: DefaultJob [N=1000000]
//   Cache.TryGet: DefaultJob [N=1000000]

// **************************
// Benchmark: Cache.Add: DefaultJob [N=1]
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet "440d919c-a93b-441d-8295-fca0756da739.dll" --benchmarkName "BMCollectionsBenchmarks.Cache.Add(N: 1)" --job "Default" --benchmarkId 0 in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\bin\Release\net6.0
// BeforeAnythingElse

// Benchmark Process Environment Information:
// Runtime=.NET 6.0.1 (6.0.121.56705), X64 RyuJIT
// GC=Concurrent Workstation
// Job: DefaultJob

OverheadJitting  1: 1 op, 228600.00 ns, 228.6000 us/op
WorkloadJitting  1: 1 op, 320300.00 ns, 320.3000 us/op

OverheadJitting  2: 16 op, 282300.00 ns, 17.6438 us/op

System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
 ---> System.ArgumentException: Item with the same key already exists in LRU cache.
   at BMCollections.LRULargeObjectCache`2.Add(TKey key, TContent content) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlobCache\LRULargeObjectCache.cs:line 100
   at BMCollectionsBenchmarks.Cache.Add() in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\Program.cs:line 22
   at BenchmarkDotNet.Autogenerated.Runnable_0.WorkloadActionUnroll(Int64 invokeCount) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 477
   at BenchmarkDotNet.Engines.Engine.RunIteration(IterationData data)
   at BenchmarkDotNet.Engines.EngineFactory.Jit(Engine engine, Int32 jitIndex, Int32 invokeCount, Int32 unrollFactor)
   at BenchmarkDotNet.Engines.EngineFactory.CreateReadyToRun(EngineParameters engineParameters)
   at BenchmarkDotNet.Autogenerated.Runnable_0.Run(IHost host, String benchmarkName) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 178
   --- End of inner exception stack trace ---
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.MethodBase.Invoke(Object obj, Object[] parameters)
   at BenchmarkDotNet.Autogenerated.UniqueProgramName.AfterAssemblyLoadingAttached(String[] args) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 62
// AfterAll
// Benchmark Process 26396 has exited with code -1.


// **************************
// Benchmark: Cache.Remove: DefaultJob [N=1]
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet "440d919c-a93b-441d-8295-fca0756da739.dll" --benchmarkName "BMCollectionsBenchmarks.Cache.Remove(N: 1)" --job "Default" --benchmarkId 1 in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\bin\Release\net6.0
// BeforeAnythingElse

// Benchmark Process Environment Information:
// Runtime=.NET 6.0.1 (6.0.121.56705), X64 RyuJIT
// GC=Concurrent Workstation
// Job: DefaultJob

OverheadJitting  1: 1 op, 176000.00 ns, 176.0000 us/op
WorkloadJitting  1: 1 op, 753700.00 ns, 753.7000 us/op

OverheadJitting  2: 16 op, 288500.00 ns, 18.0312 us/op

System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
 ---> System.ArgumentException: Item does not exist in the cache.
   at BMCollections.LRULargeObjectCache`2.Remove(TKey key) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlobCache\LRULargeObjectCache.cs:line 144
   at BMCollectionsBenchmarks.Cache.Remove() in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\Program.cs:line 33
   at BenchmarkDotNet.Autogenerated.Runnable_1.WorkloadActionUnroll(Int64 invokeCount) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 1209
   at BenchmarkDotNet.Engines.Engine.RunIteration(IterationData data)
   at BenchmarkDotNet.Engines.EngineFactory.Jit(Engine engine, Int32 jitIndex, Int32 invokeCount, Int32 unrollFactor)
   at BenchmarkDotNet.Engines.EngineFactory.CreateReadyToRun(EngineParameters engineParameters)
   at BenchmarkDotNet.Autogenerated.Runnable_1.Run(IHost host, String benchmarkName) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 910
   --- End of inner exception stack trace ---
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.MethodBase.Invoke(Object obj, Object[] parameters)
   at BenchmarkDotNet.Autogenerated.UniqueProgramName.AfterAssemblyLoadingAttached(String[] args) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 62
// AfterAll
// Benchmark Process 36264 has exited with code -1.


// **************************
// Benchmark: Cache.TryGet: DefaultJob [N=1]
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet "440d919c-a93b-441d-8295-fca0756da739.dll" --benchmarkName "BMCollectionsBenchmarks.Cache.TryGet(N: 1)" --job "Default" --benchmarkId 2 in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\bin\Release\net6.0
// BeforeAnythingElse

// Benchmark Process Environment Information:
// Runtime=.NET 6.0.1 (6.0.121.56705), X64 RyuJIT
// GC=Concurrent Workstation
// Job: DefaultJob

OverheadJitting  1: 1 op, 212100.00 ns, 212.1000 us/op

System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at BMCollectionsBenchmarks.Cache.TryGet() in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\Program.cs:line 46
   at BenchmarkDotNet.Autogenerated.Runnable_2.WorkloadActionNoUnroll(Int64 invokeCount) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 1965
   at BenchmarkDotNet.Engines.Engine.RunIteration(IterationData data)
   at BenchmarkDotNet.Engines.EngineFactory.Jit(Engine engine, Int32 jitIndex, Int32 invokeCount, Int32 unrollFactor)
   at BenchmarkDotNet.Engines.EngineFactory.CreateReadyToRun(EngineParameters engineParameters)
   at BenchmarkDotNet.Autogenerated.Runnable_2.Run(IHost host, String benchmarkName) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 1642
   --- End of inner exception stack trace ---
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.MethodBase.Invoke(Object obj, Object[] parameters)
   at BenchmarkDotNet.Autogenerated.UniqueProgramName.AfterAssemblyLoadingAttached(String[] args) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 62
// AfterAll
// Benchmark Process 29068 has exited with code -1.


// **************************
// Benchmark: Cache.Add: DefaultJob [N=1000]
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet "440d919c-a93b-441d-8295-fca0756da739.dll" --benchmarkName "BMCollectionsBenchmarks.Cache.Add(N: 1000)" --job "Default" --benchmarkId 3 in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\bin\Release\net6.0
// BeforeAnythingElse

// Benchmark Process Environment Information:
// Runtime=.NET 6.0.1 (6.0.121.56705), X64 RyuJIT
// GC=Concurrent Workstation
// Job: DefaultJob

OverheadJitting  1: 1 op, 174600.00 ns, 174.6000 us/op
WorkloadJitting  1: 1 op, 540500.00 ns, 540.5000 us/op

OverheadJitting  2: 16 op, 277900.00 ns, 17.3687 us/op

System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
 ---> System.ArgumentException: Item with the same key already exists in LRU cache.
   at BMCollections.LRULargeObjectCache`2.Add(TKey key, TContent content) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlobCache\LRULargeObjectCache.cs:line 100
   at BMCollectionsBenchmarks.Cache.Add() in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\Program.cs:line 22
   at BenchmarkDotNet.Autogenerated.Runnable_3.WorkloadActionUnroll(Int64 invokeCount) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 2673
   at BenchmarkDotNet.Engines.Engine.RunIteration(IterationData data)
   at BenchmarkDotNet.Engines.EngineFactory.Jit(Engine engine, Int32 jitIndex, Int32 invokeCount, Int32 unrollFactor)
   at BenchmarkDotNet.Engines.EngineFactory.CreateReadyToRun(EngineParameters engineParameters)
   at BenchmarkDotNet.Autogenerated.Runnable_3.Run(IHost host, String benchmarkName) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 2374
   --- End of inner exception stack trace ---
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.MethodBase.Invoke(Object obj, Object[] parameters)
   at BenchmarkDotNet.Autogenerated.UniqueProgramName.AfterAssemblyLoadingAttached(String[] args) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 62
// AfterAll
// Benchmark Process 28352 has exited with code -1.


// **************************
// Benchmark: Cache.Remove: DefaultJob [N=1000]
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet "440d919c-a93b-441d-8295-fca0756da739.dll" --benchmarkName "BMCollectionsBenchmarks.Cache.Remove(N: 1000)" --job "Default" --benchmarkId 4 in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\bin\Release\net6.0
// BeforeAnythingElse

// Benchmark Process Environment Information:
// Runtime=.NET 6.0.1 (6.0.121.56705), X64 RyuJIT
// GC=Concurrent Workstation
// Job: DefaultJob

OverheadJitting  1: 1 op, 187400.00 ns, 187.4000 us/op

System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
 ---> System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.get_Length()
   at BMCollections.StreamContainer.get_Size() in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlobCache\StreamContainer.cs:line 18
   at BMCollections.LargeObjectElement`2.get_Size() in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlobCache\LargeObjectElement.cs:line 16
   at BMCollections.LRULargeObjectCache`2.RemoveNode(LinkedListNode`1 node) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlobCache\LRULargeObjectCache.cs:line 260
   at BMCollections.LRULargeObjectCache`2.Remove(TKey key) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlobCache\LRULargeObjectCache.cs:line 147
   at BMCollectionsBenchmarks.Cache.Remove() in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\Program.cs:line 33
   at BenchmarkDotNet.Autogenerated.Runnable_4.WorkloadActionNoUnroll(Int64 invokeCount) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 3429
   at BenchmarkDotNet.Engines.Engine.RunIteration(IterationData data)
   at BenchmarkDotNet.Engines.EngineFactory.Jit(Engine engine, Int32 jitIndex, Int32 invokeCount, Int32 unrollFactor)
   at BenchmarkDotNet.Engines.EngineFactory.CreateReadyToRun(EngineParameters engineParameters)
   at BenchmarkDotNet.Autogenerated.Runnable_4.Run(IHost host, String benchmarkName) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 3106
   --- End of inner exception stack trace ---
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.MethodBase.Invoke(Object obj, Object[] parameters)
   at BenchmarkDotNet.Autogenerated.UniqueProgramName.AfterAssemblyLoadingAttached(String[] args) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 62
// AfterAll
// Benchmark Process 26216 has exited with code -1.


// **************************
// Benchmark: Cache.TryGet: DefaultJob [N=1000]
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet "440d919c-a93b-441d-8295-fca0756da739.dll" --benchmarkName "BMCollectionsBenchmarks.Cache.TryGet(N: 1000)" --job "Default" --benchmarkId 5 in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\bin\Release\net6.0
// BeforeAnythingElse

// Benchmark Process Environment Information:
// Runtime=.NET 6.0.1 (6.0.121.56705), X64 RyuJIT
// GC=Concurrent Workstation
// Job: DefaultJob

OverheadJitting  1: 1 op, 221600.00 ns, 221.6000 us/op

System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at BMCollectionsBenchmarks.Cache.TryGet() in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\Program.cs:line 46
   at BenchmarkDotNet.Autogenerated.Runnable_5.WorkloadActionNoUnroll(Int64 invokeCount) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 4161
   at BenchmarkDotNet.Engines.Engine.RunIteration(IterationData data)
   at BenchmarkDotNet.Engines.EngineFactory.Jit(Engine engine, Int32 jitIndex, Int32 invokeCount, Int32 unrollFactor)
   at BenchmarkDotNet.Engines.EngineFactory.CreateReadyToRun(EngineParameters engineParameters)
   at BenchmarkDotNet.Autogenerated.Runnable_5.Run(IHost host, String benchmarkName) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 3838
   --- End of inner exception stack trace ---
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.MethodBase.Invoke(Object obj, Object[] parameters)
   at BenchmarkDotNet.Autogenerated.UniqueProgramName.AfterAssemblyLoadingAttached(String[] args) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 62
// AfterAll
// Benchmark Process 15504 has exited with code -1.


// **************************
// Benchmark: Cache.Add: DefaultJob [N=100000]
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet "440d919c-a93b-441d-8295-fca0756da739.dll" --benchmarkName "BMCollectionsBenchmarks.Cache.Add(N: 100000)" --job "Default" --benchmarkId 6 in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\bin\Release\net6.0
// BeforeAnythingElse

// Benchmark Process Environment Information:
// Runtime=.NET 6.0.1 (6.0.121.56705), X64 RyuJIT
// GC=Concurrent Workstation
// Job: DefaultJob

OverheadJitting  1: 1 op, 194200.00 ns, 194.2000 us/op
WorkloadJitting  1: 1 op, 28363000.00 ns, 28.3630 ms/op

OverheadJitting  2: 16 op, 387800.00 ns, 24.2375 us/op

System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
 ---> System.ArgumentException: Item with the same key already exists in LRU cache.
   at BMCollections.LRULargeObjectCache`2.Add(TKey key, TContent content) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlobCache\LRULargeObjectCache.cs:line 100
   at BMCollectionsBenchmarks.Cache.Add() in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\Program.cs:line 22
   at BenchmarkDotNet.Autogenerated.Runnable_6.WorkloadActionUnroll(Int64 invokeCount) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 4869
   at BenchmarkDotNet.Engines.Engine.RunIteration(IterationData data)
   at BenchmarkDotNet.Engines.EngineFactory.Jit(Engine engine, Int32 jitIndex, Int32 invokeCount, Int32 unrollFactor)
   at BenchmarkDotNet.Engines.EngineFactory.CreateReadyToRun(EngineParameters engineParameters)
   at BenchmarkDotNet.Autogenerated.Runnable_6.Run(IHost host, String benchmarkName) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 4570
   --- End of inner exception stack trace ---
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.MethodBase.Invoke(Object obj, Object[] parameters)
   at BenchmarkDotNet.Autogenerated.UniqueProgramName.AfterAssemblyLoadingAttached(String[] args) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 62
// AfterAll
// Benchmark Process 1288 has exited with code -1.


// **************************
// Benchmark: Cache.Remove: DefaultJob [N=100000]
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet "440d919c-a93b-441d-8295-fca0756da739.dll" --benchmarkName "BMCollectionsBenchmarks.Cache.Remove(N: 100000)" --job "Default" --benchmarkId 7 in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\bin\Release\net6.0
// BeforeAnythingElse

// Benchmark Process Environment Information:
// Runtime=.NET 6.0.1 (6.0.121.56705), X64 RyuJIT
// GC=Concurrent Workstation
// Job: DefaultJob

OverheadJitting  1: 1 op, 197400.00 ns, 197.4000 us/op

System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
 ---> System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.get_Length()
   at BMCollections.StreamContainer.get_Size() in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlobCache\StreamContainer.cs:line 18
   at BMCollections.LargeObjectElement`2.get_Size() in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlobCache\LargeObjectElement.cs:line 16
   at BMCollections.LRULargeObjectCache`2.RemoveNode(LinkedListNode`1 node) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlobCache\LRULargeObjectCache.cs:line 260
   at BMCollections.LRULargeObjectCache`2.Remove(TKey key) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlobCache\LRULargeObjectCache.cs:line 147
   at BMCollectionsBenchmarks.Cache.Remove() in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\Program.cs:line 33
   at BenchmarkDotNet.Autogenerated.Runnable_7.WorkloadActionNoUnroll(Int64 invokeCount) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 5625
   at BenchmarkDotNet.Engines.Engine.RunIteration(IterationData data)
   at BenchmarkDotNet.Engines.EngineFactory.Jit(Engine engine, Int32 jitIndex, Int32 invokeCount, Int32 unrollFactor)
   at BenchmarkDotNet.Engines.EngineFactory.CreateReadyToRun(EngineParameters engineParameters)
   at BenchmarkDotNet.Autogenerated.Runnable_7.Run(IHost host, String benchmarkName) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 5302
   --- End of inner exception stack trace ---
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.MethodBase.Invoke(Object obj, Object[] parameters)
   at BenchmarkDotNet.Autogenerated.UniqueProgramName.AfterAssemblyLoadingAttached(String[] args) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 62
// AfterAll
// Benchmark Process 15704 has exited with code -1.


// **************************
// Benchmark: Cache.TryGet: DefaultJob [N=100000]
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet "440d919c-a93b-441d-8295-fca0756da739.dll" --benchmarkName "BMCollectionsBenchmarks.Cache.TryGet(N: 100000)" --job "Default" --benchmarkId 8 in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\bin\Release\net6.0
// BeforeAnythingElse

// Benchmark Process Environment Information:
// Runtime=.NET 6.0.1 (6.0.121.56705), X64 RyuJIT
// GC=Concurrent Workstation
// Job: DefaultJob

OverheadJitting  1: 1 op, 227900.00 ns, 227.9000 us/op

System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at BMCollectionsBenchmarks.Cache.TryGet() in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\Program.cs:line 46
   at BenchmarkDotNet.Autogenerated.Runnable_8.WorkloadActionNoUnroll(Int64 invokeCount) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 6357
   at BenchmarkDotNet.Engines.Engine.RunIteration(IterationData data)
   at BenchmarkDotNet.Engines.EngineFactory.Jit(Engine engine, Int32 jitIndex, Int32 invokeCount, Int32 unrollFactor)
   at BenchmarkDotNet.Engines.EngineFactory.CreateReadyToRun(EngineParameters engineParameters)
   at BenchmarkDotNet.Autogenerated.Runnable_8.Run(IHost host, String benchmarkName) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 6034
   --- End of inner exception stack trace ---
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.MethodBase.Invoke(Object obj, Object[] parameters)
   at BenchmarkDotNet.Autogenerated.UniqueProgramName.AfterAssemblyLoadingAttached(String[] args) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 62
// AfterAll
// Benchmark Process 31820 has exited with code -1.


// **************************
// Benchmark: Cache.Add: DefaultJob [N=1000000]
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet "440d919c-a93b-441d-8295-fca0756da739.dll" --benchmarkName "BMCollectionsBenchmarks.Cache.Add(N: 1000000)" --job "Default" --benchmarkId 9 in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\bin\Release\net6.0
// BeforeAnythingElse

// Benchmark Process Environment Information:
// Runtime=.NET 6.0.1 (6.0.121.56705), X64 RyuJIT
// GC=Concurrent Workstation
// Job: DefaultJob

OverheadJitting  1: 1 op, 202800.00 ns, 202.8000 us/op
WorkloadJitting  1: 1 op, 224247900.00 ns, 224.2479 ms/op


System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
 ---> System.ArgumentException: Item with the same key already exists in LRU cache.
   at BMCollections.LRULargeObjectCache`2.Add(TKey key, TContent content) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlobCache\LRULargeObjectCache.cs:line 133
   at BMCollectionsBenchmarks.Cache.Add() in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\Program.cs:line 22
   at BenchmarkDotNet.Autogenerated.Runnable_9.WorkloadActionNoUnroll(Int64 invokeCount) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 7089
   at BenchmarkDotNet.Engines.Engine.RunIteration(IterationData data)
   at BenchmarkDotNet.Engines.EnginePilotStage.RunAuto()
   at BenchmarkDotNet.Engines.EnginePilotStage.Run()
   at BenchmarkDotNet.Engines.Engine.Run()
   at BenchmarkDotNet.Autogenerated.Runnable_9.Run(IHost host, String benchmarkName) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 6768
   --- End of inner exception stack trace ---
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.MethodBase.Invoke(Object obj, Object[] parameters)
   at BenchmarkDotNet.Autogenerated.UniqueProgramName.AfterAssemblyLoadingAttached(String[] args) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 62
// AfterAll
// Benchmark Process 7480 has exited with code -1.


// **************************
// Benchmark: Cache.Remove: DefaultJob [N=1000000]
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet "440d919c-a93b-441d-8295-fca0756da739.dll" --benchmarkName "BMCollectionsBenchmarks.Cache.Remove(N: 1000000)" --job "Default" --benchmarkId 10 in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\bin\Release\net6.0
// BeforeAnythingElse

// Benchmark Process Environment Information:
// Runtime=.NET 6.0.1 (6.0.121.56705), X64 RyuJIT
// GC=Concurrent Workstation
// Job: DefaultJob

OverheadJitting  1: 1 op, 188500.00 ns, 188.5000 us/op

System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
 ---> System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.get_Length()
   at BMCollections.LargeObjectElement`2.get_Size() in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlobCache\LargeObjectElement.cs:line 16
   at BMCollections.LRULargeObjectCache`2.RemoveNode(LinkedListNode`1 node) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlobCache\LRULargeObjectCache.cs:line 260
   at BMCollections.LRULargeObjectCache`2.Remove(TKey key) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlobCache\LRULargeObjectCache.cs:line 147
   at BMCollectionsBenchmarks.Cache.Remove() in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\Program.cs:line 33
   at BenchmarkDotNet.Autogenerated.Runnable_10.WorkloadActionNoUnroll(Int64 invokeCount) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 7821
   at BenchmarkDotNet.Engines.Engine.RunIteration(IterationData data)
   at BenchmarkDotNet.Engines.EngineFactory.Jit(Engine engine, Int32 jitIndex, Int32 invokeCount, Int32 unrollFactor)
   at BenchmarkDotNet.Engines.EngineFactory.CreateReadyToRun(EngineParameters engineParameters)
   at BenchmarkDotNet.Autogenerated.Runnable_10.Run(IHost host, String benchmarkName) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 7498
   --- End of inner exception stack trace ---
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.MethodBase.Invoke(Object obj, Object[] parameters)
   at BenchmarkDotNet.Autogenerated.UniqueProgramName.AfterAssemblyLoadingAttached(String[] args) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 62
// AfterAll
// Benchmark Process 33244 has exited with code -1.


// **************************
// Benchmark: Cache.TryGet: DefaultJob [N=1000000]
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet "440d919c-a93b-441d-8295-fca0756da739.dll" --benchmarkName "BMCollectionsBenchmarks.Cache.TryGet(N: 1000000)" --job "Default" --benchmarkId 11 in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\bin\Release\net6.0
// BeforeAnythingElse

// Benchmark Process Environment Information:
// Runtime=.NET 6.0.1 (6.0.121.56705), X64 RyuJIT
// GC=Concurrent Workstation
// Job: DefaultJob

OverheadJitting  1: 1 op, 249500.00 ns, 249.5000 us/op

System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at BMCollectionsBenchmarks.Cache.TryGet() in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\Program.cs:line 46
   at BenchmarkDotNet.Autogenerated.Runnable_11.WorkloadActionNoUnroll(Int64 invokeCount) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 8553
   at BenchmarkDotNet.Engines.Engine.RunIteration(IterationData data)
   at BenchmarkDotNet.Engines.EngineFactory.Jit(Engine engine, Int32 jitIndex, Int32 invokeCount, Int32 unrollFactor)
   at BenchmarkDotNet.Engines.EngineFactory.CreateReadyToRun(EngineParameters engineParameters)
   at BenchmarkDotNet.Autogenerated.Runnable_11.Run(IHost host, String benchmarkName) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 8230
   --- End of inner exception stack trace ---
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.MethodBase.Invoke(Object obj, Object[] parameters)
   at BenchmarkDotNet.Autogenerated.UniqueProgramName.AfterAssemblyLoadingAttached(String[] args) in C:\Users\sodragon\source\repos\LRUBlobCache\LRUBlockCacheBenchmarks\bin\Release\net6.0\440d919c-a93b-441d-8295-fca0756da739\440d919c-a93b-441d-8295-fca0756da739.notcs:line 62
// AfterAll
// Benchmark Process 37736 has exited with code -1.


// ***** BenchmarkRunner: Finish  *****

// * Export *
  BenchmarkDotNet.Artifacts\results\BMCollectionsBenchmarks.Cache-report.csv
  BenchmarkDotNet.Artifacts\results\BMCollectionsBenchmarks.Cache-report-github.md
  BenchmarkDotNet.Artifacts\results\BMCollectionsBenchmarks.Cache-report.html

// * Detailed results *
Cache.Add: DefaultJob [N=1]
Runtime = .NET 6.0.1 (6.0.121.56705), X64 RyuJIT; GC = Concurrent Workstation
There are not any results runs

Cache.Remove: DefaultJob [N=1]
Runtime = .NET 6.0.1 (6.0.121.56705), X64 RyuJIT; GC = Concurrent Workstation
There are not any results runs

Cache.TryGet: DefaultJob [N=1]
Runtime = .NET 6.0.1 (6.0.121.56705), X64 RyuJIT; GC = Concurrent Workstation
There are not any results runs

Cache.Add: DefaultJob [N=1000]
Runtime = .NET 6.0.1 (6.0.121.56705), X64 RyuJIT; GC = Concurrent Workstation
There are not any results runs

Cache.Remove: DefaultJob [N=1000]
Runtime = .NET 6.0.1 (6.0.121.56705), X64 RyuJIT; GC = Concurrent Workstation
There are not any results runs

Cache.TryGet: DefaultJob [N=1000]
Runtime = .NET 6.0.1 (6.0.121.56705), X64 RyuJIT; GC = Concurrent Workstation
There are not any results runs

Cache.Add: DefaultJob [N=100000]
Runtime = .NET 6.0.1 (6.0.121.56705), X64 RyuJIT; GC = Concurrent Workstation
There are not any results runs

Cache.Remove: DefaultJob [N=100000]
Runtime = .NET 6.0.1 (6.0.121.56705), X64 RyuJIT; GC = Concurrent Workstation
There are not any results runs

Cache.TryGet: DefaultJob [N=100000]
Runtime = .NET 6.0.1 (6.0.121.56705), X64 RyuJIT; GC = Concurrent Workstation
There are not any results runs

Cache.Add: DefaultJob [N=1000000]
Runtime = .NET 6.0.1 (6.0.121.56705), X64 RyuJIT; GC = Concurrent Workstation
There are not any results runs

Cache.Remove: DefaultJob [N=1000000]
Runtime = .NET 6.0.1 (6.0.121.56705), X64 RyuJIT; GC = Concurrent Workstation
There are not any results runs

Cache.TryGet: DefaultJob [N=1000000]
Runtime = .NET 6.0.1 (6.0.121.56705), X64 RyuJIT; GC = Concurrent Workstation
There are not any results runs

// * Summary *

BenchmarkDotNet=v0.13.1, OS=Windows 10.0.19044.1526 (21H2)
AMD Ryzen 7 5800H with Radeon Graphics, 1 CPU, 16 logical and 8 physical cores
.NET SDK=6.0.101
  [Host]     : .NET 6.0.1 (6.0.121.56705), X64 RyuJIT
  DefaultJob : .NET 6.0.1 (6.0.121.56705), X64 RyuJIT


| Method |       N | Mean | Error |
|------- |-------- |-----:|------:|
|    Add |       1 |   NA |    NA |
| Remove |       1 |   NA |    NA |
| TryGet |       1 |   NA |    NA |
|    Add |    1000 |   NA |    NA |
| Remove |    1000 |   NA |    NA |
| TryGet |    1000 |   NA |    NA |
|    Add |  100000 |   NA |    NA |
| Remove |  100000 |   NA |    NA |
| TryGet |  100000 |   NA |    NA |
|    Add | 1000000 |   NA |    NA |
| Remove | 1000000 |   NA |    NA |
| TryGet | 1000000 |   NA |    NA |

Benchmarks with issues:
  Cache.Add: DefaultJob [N=1]
  Cache.Remove: DefaultJob [N=1]
  Cache.TryGet: DefaultJob [N=1]
  Cache.Add: DefaultJob [N=1000]
  Cache.Remove: DefaultJob [N=1000]
  Cache.TryGet: DefaultJob [N=1000]
  Cache.Add: DefaultJob [N=100000]
  Cache.Remove: DefaultJob [N=100000]
  Cache.TryGet: DefaultJob [N=100000]
  Cache.Add: DefaultJob [N=1000000]
  Cache.Remove: DefaultJob [N=1000000]
  Cache.TryGet: DefaultJob [N=1000000]

// * Legends *
  N     : Value of the 'N' parameter
  Mean  : Arithmetic mean of all measurements
  Error : Half of 99.9% confidence interval
  1 ns  : 1 Nanosecond (0.000000001 sec)

// ***** BenchmarkRunner: End *****
// ** Remained 0 benchmark(s) to run **
Run time: 00:00:04 (4.46 sec), executed benchmarks: 12

Global total time: 00:00:19 (19.31 sec), executed benchmarks: 12
// * Artifacts cleanup *
